\chapter{Læring, optimalisering og kunstig intelligens}

\section{Læringsmål}
\begin{itemize}
    \item Forstå hvordan maskinlæring, optimalisering og kunstig intelligens støtter digitale tvillinger.
    \item Vurdere når dataassimilering og online læring er hensiktsmessig.
    \item Designe eksperimenter for å kombinere simulerings- og læringsmodeller.
\end{itemize}

\section{Maskinlæring i digitale tvillinger}
Maskinlæring gir digitale tvillinger evnen til å lære direkte fra data og forutse hvordan en fysisk prosess vil utvikle seg. I
starten av et prosjekt brukes ofte overvåket læring for å bygge en modell som kan estimere tilstandsvariabler eller nøkkelpara
metere som er vanskelige å måle direkte. Etter hvert som tvillingen tas i drift kan ikke-overvåket læring brukes til å oppdag
e nye driftstilstander og identifisere avvik som indikerer behov for justeringer i modellen. Forsterkende læring egner seg når
tvillingen skal anbefale beslutninger i et system med mange kombinasjoner av tiltak, slik som energistyring eller ruteplanlegg
ing. 

Når simuleringsmodeller er tunge å kjøre, benyttes surrogate modeller eller metamodeller for å approksimere resultatene raskt.
Disse bygges gjerne ved å trene en maskinlæringsmodell på data fra simuleringer og reelle observasjoner, slik at tvillingen kan
gi raske svar i interaktive situasjoner. Transfer learning gjør det mulig å gjenbruke læring fra én fabrikk til en annen ved å
tilpasse modellene til nye sensorer og prosessparametere. I norske konsern med flere lokasjoner er også federated learning aktu
elt; data forblir på hvert anlegg, men modeller oppdateres felles gjennom sikre aggregeringsmekanismer som ivaretar personvern
og forretningssensitiv informasjon.

\section{Optimalisering og beslutningsstøtte}
Optimalisering utnytter innsikten fra maskinlæringsmodellene og den fysiske simuleringen til å foreslå hvilke handlinger som gi
r best mulig resultat under gitte begrensninger. Modellprediktiv kontroll (MPC) er et sentralt rammeverk for digitale tvillinge
r fordi det kombinerer dynamiske prognoser med eksplisitte restriksjoner på produksjonskapasitet, energi og kvalitet. Maskinlær
ingen bidrar med oppdaterte prediksjoner av hvordan systemet reagerer, mens MPC-formuleringen sørger for at anbefalingene er go
dt innenfor sikkerhetsmarginer.

Når målfunksjonen er ujevn eller ikke-differensierbar, kan Bayesiansk optimalisering og genetiske algoritmer brukes for å finne
gode løsninger med få simuleringskjøringer. I scenarioer der optimalisering må skje kontinuerlig, eksempelvis i smart grid-drif
t, brukes gradientbaserte metoder og konveks optimalisering for å sikre responstid i sanntid. Å håndtere målkonflikter er ofte p
åkrevd: en digital tvilling for en industriell ovn må balansere energibruk, utslipp og produktkvalitet. Multiobjektiv-tilnærmin
ger og pareto-analyser gir beslutningstakere innsikt i hvilke kompromisser som er mulige.

\section{Dataassimilering og online oppdatering}
Dataassimilering gjør at digitale tvillinger holder tritt med den faktiske prosessen. Filtreringsteknikker som Kalman-filter, e
nssemble-Kalman og partikkelfilter kombinerer sensormålinger, historikk og modellprediksjoner til et best mulig estimat av til
standen. Når dataene er komplekse og høyfrekvente, kan hybride løsninger der filtrene opererer på aggregerte signaler supplert
med nevrale nettverk for feature-uttrekk holde beregningstiden nede.

Et sentralt tema er å håndtere konseptdrift, altså at relasjonene mellom variabler endrer seg over tid. Ved å overvåke performa
nce-metrikker og trigge re-trening av maskinlæringsmodellene i kontrollerte vinduer, opprettholdes balansen mellom stabilitet o
g fleksibilitet. Arkitekturmessig krever dette en oppdateringssløyfe som fanger opp nye datapakker, kvalitetssikrer dem og publ
iserer de oppdaterte modellene tilbake til tvillingen. Mange norske virksomheter har løst dette ved å kombinere Kubernetes-base
rte mikrotjenester, strømmeplattformer som Apache Kafka og modellregister som MLflow for å sikre sporbarhet.

\section{Fremvoksende praksiser for AI-drevne tvillinger}
Fagfellekommentarene fremhevet behovet for å beskrive hvordan moderne AI-tvillinger håndterer både datatilgang og distribusjon. Generative modeller, syntetiske datasett og edge-distribuerte komponenter gjør det mulig å løse utfordringer som begrenset datastrøm, krav til personvern og sanntidsrespons. Dette avsnittet oppsummerer tiltakene som ble prioritert i fagfelleløpet for kapittel~5.

\subsection{Generative modeller og syntetiske scenarier}
Foundation-modeller og andre generative teknikker brukes til å lage scenarioer for test og finjustering når historiske data ikke dekker alle relevante tilstander.\citep{bommasani2021opportunities} I digitale tvillinger betyr dette at man kan simulere sjeldne driftshendelser, lage datagrunnlag for trygg forsterkende læring eller anonymisere sensitive datasett før de deles i fagfellesamarbeid. For å bevare tilliten må syntetiske datasett merkes tydelig, og datainntaksløpet dokumenteres slik at både modell-eiere og kontrollorgan kan se hvilke deler av pipeline som er basert på generativt materiale. Når generative modeller brukes til å foreslå nye styringsstrategier, bør de kobles til tiltakene i Kapittel~6 om validering for å sikre at anbefalinger testes mot fysiske begrensninger før utrulling.

\subsection{Edge-distribuerte tvillinger}
Edge-intelligens er nødvendig der beslutninger må tas på millisekunder og nettverkstilkoblingen er begrenset, for eksempel i maritime operasjoner eller energimikrogrids.\citep{shi2016edge} En vanlig arkitektur er å la den sentrale plattformen håndtere langsiktig læring og flåtestyring, mens edge-noder kjører lette versjoner av modellene for lokal optimalisering og avviksdeteksjon. Fagfellepanelet anbefalte at vi beskriver hvordan modellversjoner og dataflyt synkroniseres mellom edge og sky: DevOps-teamet må definere hvilke signaler som trigges ved modellavvik, hvilke målinger som replikkeres tilbake til sentral datasjø, og hvordan sikkerhetsoppdateringer distribueres uten å stoppe produksjonen. Ved pilotering i norsk industri har det vært nyttig å kombinere container-orienterte orkestratorer (for eksempel K3s) med hendelseslogg i datasjøen slik at datagovernance og revisjon kan følge edge-endringene.

\subsection{Styringsramme for generativ dataflyt}
For å unngå at generativt innhold og edge-modeller skaper uoversiktlige datastrømmer, må laboratorieteamene etablere en styringsramme som spenner fra datamerking til etterlevelsesrapportering. Erfaringer fra Kognitwin og Statnett viser at en delt kontrolltavle gir innsikt i hvilke datapakker som er syntetiske, hvilke som kommer fra edge og hvilke som er revisjonsgodkjent før utrulling.\citep{kongsberg2023kognitwin,statnett2023digital} I praksis organiseres styringen i tre kontrollnivåer:
\begin{enumerate}
    \item \textbf{Datakvalifisering}: Alle nye datasett -- historiske, syntetiske eller strømmende -- skal merkes med opprinnelse, kvalitetsscore og tilhørende modellversjon. Merkingen synkroniseres automatisk med dataspace-kontraktene fra Kapittel~3.
    \item \textbf{Modellfrigivelse}: Foundation-modeller og edge-komponenter pakkes i versjoner som kan valideres mot rubrikken i Tabell~\ref{tab:rubrikk-ai-lab}. Før publisering testes løsningene mot kontrollpunktene i Kapittel~6 for å sikre at forslagene tåler revisjon.
    \item \textbf{Operasjonell oppfølging}: Kontrolltårnet overvåker avvik, loggfører manuelle overstyringer og utløser re-trening eller fallback når usikkerhetsgrensen brytes. Indikatorene rapporteres tilbake til livssyklusplanen i Kapittel~7.
\end{enumerate}

Tabell~\ref{tab:kontrollpunkter-generativ} viser hvordan styringen kan dokumenteres i prosjektlogg eller fagfellelogg. Kolonnene speiler kravene fra dataspace-governance, laboratorierubrikken og sikkerhetskapittelet slik at studentgrupper tydelig ser sammenhengen mellom kapittelbidragene.

\begin{table}[htbp]
    \centering
    \caption{Kontrollpunkter for generativ og edge-basert dataflyt}
    \label{tab:kontrollpunkter-generativ}
    \begin{tabular}{p{3.6cm}p{4.0cm}p{4.2cm}p{3.8cm}}
        \toprule
        \textbf{Fase} & \textbf{Tiltak} & \textbf{Dokumentasjon} & \textbf{Kobling til andre kapitler} \\
        \midrule
        Datainntak og berikelse & Merk syntetiske datapakker og edge-hendelser med opprinnelse, kvalitet og lisensvilkår. & Metadatafelter i datasjø/dataspace, revisjonsspor i MLflow. & Kapittel~3 (dataspace-arkitektur), Kapittel~9 (innovasjon og deling). \\
        \addlinespace
        Modelltrening og distribusjon & Definer kvalitetsporter for generative modeller og edge-pakker før de publiseres. & Testprotokoller, rubrikkscore og versjonstabell for modellbibliotek. & Kapittel~5 (rubrikk), Kapittel~6 (valideringsjournal). \\
        \addlinespace
        Operativ drift og læring & Overvåk KPI-er for respons, forklarbarhet og etterlevelse; loggfør manuelle overstyringer. & Kontrolltårnrapporter, fagfellelogg og oppdatert tiltaksregister. & Kapittel~6 (tillitspanel), Kapittel~7 (styringsmodell). \\
        \bottomrule
    \end{tabular}
\end{table}

Denne styringsrammen gjør det enklere å argumentere for generativt databruk overfor juridiske og etiske vurderinger. Studentteam kan bruke tabellen som sjekkliste i prosjektgjennomgangen og som vedlegg når rubrikken fra lærerveiledningen skal dokumenteres.

\subsection{Prediktivt vedlikehold i norske energianlegg}
Prediktivt vedlikehold krever at AI-komponentene i den digitale tvillingen forstår slitasjemønstre, kan anbefale tiltak i tide og er koordinert med operasjonelle prosesser i kontrollrommet. Kraftsystemet er et godt eksempel fordi Statnett har etablert kontrolltårn som kobler sanntidsdata, simulerte scenarioer og vedlikeholdsplanlegging for hele transmisjonsnettet.\citep{statnett2024kontrolltarn} Når studentgrupper skal lage tilsvarende løsninger, bør de kombinere dataassimilering fra sensorer, tilstandsovervåkning i SCADA og læringsmodeller som estimerer restlevetid for kritiske komponenter. Offshore-industrien viser hvordan dette kan skaleres: Equinor bruker digitale tvillinger for å følge opp turbiner, ventiler og sikkerhetssystem på Johan Sverdrup-feltet, noe som gir en rik erfaringsbase for å teste algoritmene mot faktiske inspeksjonsrunder.\citep{equinor2021johansverdrup}

Tabell~\ref{tab:vedlikehold-kraft} viser et forslag til hvordan vedlikeholdssyklusen kan dokumenteres. Kolonnene binder sammen læringsmodellene fra dette kapittelet, styringspunktene i Kapittel~6 og livssykluslogikken i Kapittel~7.

\begin{table}[htbp]
    \centering
    \caption{Prediktivt vedlikehold for digitale tvillinger i kraftsystemet}
    \label{tab:vedlikehold-kraft}
    \begin{tabular}{p{3.6cm}p{4.4cm}p{3.6cm}p{3.6cm}}
        \toprule
        \textbf{Fase} & \textbf{AI- og dataopplegg} & \textbf{Operasjonelle tiltak} & \textbf{Relevante styringspunkter} \\
        \midrule
        Sensorinnsamling og dataassimilering & Kombiner tidsserier fra synkronfasemålere, værdata og inspeksjonslogger i en felles datasjø. Bruk ensembles av Kalman-filtre for å korrigere målinger og fange konseptdrift. & Avklar dataprioritet i kontrolltårnet og etabler fallback-prosedyrer ved sensorutfall. & Kapittel~3 (dataspace-kontrakter) og Kapittel~6 (tilsynslogger). \\
        \addlinespace
        Tilstandsmodellering og prognoser & Tren gjenværende-levetidsmodeller (RUL) med gradientboosting eller sekvensielle nevrale nett; juster hyperparametere etter sesong og belastning. & Synkroniser anbefalte inspeksjonsvinduer med driftsplan og bemanning, og loggfør avvik mellom modell og observasjoner. & Kapittel~5 (rubrikk for læringsmodeller) og Kapittel~7 (styringssløyfer). \\
        \addlinespace
        Vedlikeholdsplanlegging og læring & Optimaliser tiltakslisten med flermålsplanlegging som balanserer nedetid, kost og risiko. Læringssløyfen oppdateres etter hver gjennomført inspeksjon. & Del beslutningsgrunnlag i kontrolltårnet og i leverandørportal; oppdater risikobildet mot nasjonale beredskapskrav. & Kapittel~6 (tillitspanel og DPIA) og Kapittel~9 (innovasjonsportefølje). \\
        \bottomrule
    \end{tabular}
\end{table}

For å få en helhetlig løsning anbefaler Energi Norge at kontrolltårn-team følger faste beredskapsrutiner, blant annet for kommunikasjon mot nettselskap og myndigheter.\citep{energinorge2023beredskap} Slike rutiner bør knyttes til modelloppdateringene ved at hver vedlikeholdssyklus evalueres mot indikatorene i Tabell~\ref{tab:kontrollpunkter-generativ}. Studentgrupper som beskriver både dataflyt, modellvalg og styringsrutiner vil lettere kunne argumentere for at AI-tvillingen støtter sikker og bærekraftig drift av energiinfrastrukturen.

\section{Samspill mellom læring, optimalisering og assimilering}
De tre byggesteinene virker sammen i en lukket sløyfe: maskinlæring gir prognoser og modeller som beskriver systemet, dataassimilering korrigerer modellen når virkeligheten avviker, og optimalisering omskaper innsikten til beslutninger. I praksis må slike sløyfer designes slik at dataflyten er robust, at prosesseringen skjer i riktig rekkefølge, og at menneskelige operatører har innsyn i hvorfor anbefalingene endres. En moden digital tvilling bør derfor inkludere dashboards som visualiserer hvilke måler som påvirker beslutningene, og varslingsmekanismer når usikkerheten overstiger forhåndsdefinerte terskler. Dette gjør det mulig å bygge tillit, for eksempel ved å dokumentere hvordan et bestemt sett med sensordata utløste en ny optimaliseringsstrategi.

\subsection{Hybrid læringssløyfe for sky og edge}
For å realisere kontinuerlige forbedringer må læringssløyfen spesifisere hvordan edge-noder, skyplattformer og generative komponenter samhandler. Et anbefalt oppsett består av følgende steg:
\begin{enumerate}
    \item \textbf{Observasjon og tagging i edge-laget}: Edge-noder filtrerer og merker kritiske hendelser (for eksempel raske trykkendringer) før de sendes videre. Dette reduserer båndbredde og gjør det mulig å bygge lokale tiltakslister.
    \item \textbf{Synkronisering mot felles dataplattform}: Hendelseslogger, syntetiske datapakker og modellversjoner pushes til datasjø eller dataspace. Metadata forteller hvilke segmenter som er generert, slik at revisjonsteamet kan følge kjeden fra rådata til anbefalinger.
    \item \textbf{Generativ scenariobygging}: I skyen kjøres foundation-modeller som lager nye scenarioer og forslag til kontrolltiltak. Fagpersoner får et dashbord som viser forskjellen mellom historiske og genererte datapunkter.
    \item \textbf{Samkjøring med optimalisering}: Optimaliseringsmotoren vurderer hvilke tiltak som er robuste når man tar høyde for både observerte og genererte tilstander. Resultatet distribueres tilbake til edge-enhetene som kontekst for lokal styring.
    \item \textbf{Kontinuerlig læringskontroll}: En styringskomité vurderer effekten gjennom rubrikker og KPI-er fra Kapittel~7. Hvis avvik overstiger gitte grenser, trigges retrening eller fallback-modeller.
\end{enumerate}
Denne arkitekturen gjør det mulig å holde læringen i gang selv om enkelte anlegg har begrenset nettverkstilgang eller strenge delingsregler. Caseerfaringer fra norsk prosessindustri viser at slike hybride sløyfer gir raskere oppdaterte modeller og bedre situasjonsforståelse for operatørene.\citep{kongsberg2023kognitwin}

\subsection{Adaptiv AI-styring i havbruk}
Havbruksnæringen etterspør digitale tvillinger som kan styre fôringsstrategi, miljøtiltak og biosikkerhet uten å miste kontroll over fiskevelferd og regulatoriske grenser.\citep{fore2018precision,nfd2023sjomatmelding} I lukkede og semilukkede merder kombineres høyfrekvente sensorer for oksygen, strøm og partikkelkonsentrasjon med videostrømmer og manuelle inspeksjoner. En adaptiv AI-sløyfe må derfor kunne tolke både tidsserier og visuelle signaler, samtidig som den synkroniserer beslutninger med kontrolltårnet som koordinerer flåten av servicefartøy og miljøtiltak.

For å gi robuste anbefalinger bygges tvillingen som en serie edge- og skykomponenter i tråd med anbefalinger fra DNV om sikker modellforvaltning.\citep{dnv2020rpa204} Edge-noder i merdene kjører lette modeller for å oppdage hurtige endringer i fiskeadferd og vannkvalitet, mens skyplattformen evaluerer langtidsmønstre og foreslår tiltakspakker. Datastrømmer fra åpne kilder som BarentsWatch sitt lusedata-API brukes til å kalibrere risikonivå per lokalitet og planlegge koordinerte tiltak mellom oppdrettere i samme produksjonsområde.\citep{barentswatch2023lusedata} Studentgrupper bør kartlegge hvordan følgende komponenter virker sammen:
\begin{itemize}
    \item \textbf{Fiskevelferdsanalytikk}: Multimodale modeller vurderer appetitt, svømmemønster og pustefrekvens og kobler funnene til tiltak i beredskapsplanen fra Kapittel~6.
    \item \textbf{Miljøprognoser}: Hydrodynamiske simuleringer og generative scenarioer fra Kapittel~4 mates inn i læringsløypen for å teste konsekvenser av endret salinitet eller algeoppblomstring.
    \item \textbf{Kontrolltårn for operasjoner}: Et felles dashbord synkroniserer modelloppdateringer, manuelle observasjoner og etterlevelseslogger fra Kapittel~7 slik at beslutninger kan dokumenteres.
\end{itemize}

Tabell~\ref{tab:havbruk-ai-styring} viser hvordan tiltakene kan struktureres i prosjektlogg eller fagfellelogg. Kolonnene gjør det enkelt å koble AI-tiltak mot datakilder og ansvarsroller slik at teamet har en klar plan for både teknisk og operasjonell oppfølging.

\begin{table}[htbp]
    \centering
    \caption{Tiltak for adaptiv AI-styring i havbrukstvillinger}
    \label{tab:havbruk-ai-styring}
    \begin{tabular}{p{3.6cm}p{4.2cm}p{3.8cm}p{4.0cm}}
        \toprule
        \textbf{Operativ modul} & \textbf{AI-tiltak} & \textbf{Nøkkeldatakilder} & \textbf{Tverrfaglig oppfølging} \\
        \midrule
        Fiskevelferdsløype & Sekvensielle modeller som estimerer stressnivå og appetitt og foreslår fôringsjusteringer i sanntid. & Kamerafeeds, oksygen- og temperatursonder, manuell inspeksjonslogg. & Veterinær, produksjonsleder og dataspace-ansvarlig evaluerer tiltak mot beredskapsplanen i Kapittel~6. \\
        \addlinespace
        Miljøovervåkning & Bayesianske nettverk og scenario-generering for å forutsi algeoppblomstring og strømskifte. & Hydrodynamiske modeller, satellittdata, lusedata-API. & Driftssjef, myndighetskontakt og simuleringsansvarlig koordinerer tiltak og rapporterer i kontrolltårnet. \\
        \addlinespace
        Logistikk og service & Forsterkende læring for å prioritere servicefartøy, avlusing og vedlikehold av sensorpark. & Flåtelogg, arbeidsordre-system, vedlikeholdsdata for utstyr. & Operasjonsplanlegger, leverandør og MLOps-team bruker rubrikkene fra Kapittel~5 og styringsmodellen i Kapittel~7. \\
        \bottomrule
    \end{tabular}
\end{table}

Når caseoppgaven gjennomføres i undervisning, bør teamene levere en kort «modelljournal» som viser hvordan data, modell og tiltak henger sammen. Journalen danner grunnlag for revisjon mot kravene i Kapittel~3 og hjelper studentene å diskutere etiske og juridiske konsekvenser av å automatisere tiltak i havbruk. Ved å koble tabellen til vurderingskriteriene i dette kapittelet får masterstudentene en konkret sjekkliste for å dokumentere at AI-forslagene er forsvarlige, etterprøvbare og i tråd med nasjonale mål for bærekraftig sjømatproduksjon.\citep{nfd2023sjomatmelding}

\section{Utvidet analyseeksempel: Immersiv AI-coach}
For å støtte operatører i komplekse situasjoner bygges en AI-coach som kombinerer simulering, maskinlæring og samarbeid i et immersivt miljø. Figur~\ref{fig:kap05-operator-coach} illustrerer hvordan sensorer, taleinstruksjoner og historiske hendelser kobles til anbefalinger som vises i AR/VR. Operatøren kan stille oppfølgingsspørsmål, trigge what-if-simuleringer og dele tiltakslister direkte i kontrolltårnet. Ved å bruke multimodale modeller kobles tekst, lyd og visuelle observasjoner, og anbefalingene dokumenteres automatisk i beslutningsloggen.

Algoritmene som benyttes må håndtere både tidsserier og kontekstuell informasjon. Støttenotatet \textit{kap05-algoritmematrise-utvidelse.md} beskriver hvilke kombinasjoner av modeller og verktøy som egner seg for slike scenarioer. Eksemplet knytter også anbefalingene til sikkerhetskrav, slik at tiltakene kan vurderes opp mot \citet{iec62443-2-1} og \citet{eu2022nis2} før de settes i drift. Slik bygges en helhetlig kjede fra datafangst via analyse til operasjonell beslutning.

For å gjøre arbeidsflyten konkret deles leveransen inn i fire styringspunkter som må dokumenteres av studentteamene:
\begin{enumerate}
    \item \textbf{Flerkanals datainntak:} Multisensordata fra felt, historiske hendelser og genererte scenarioer merkes med metadata før de går inn i tvillingen. Edge-noder filtrerer hendelser og legger på kvalitetsflagg som senere brukes i rubrikken.
    \item \textbf{Algoritmeallokering:} For hver modalitet velges algoritme fra matrisen i Tabell~\ref{tab:algoritmematrise-ai-coach}. Valgene begrunnes med ytelsesmål og dokumenterte kontrollpunkter.
    \item \textbf{Operatørdialog:} AR/VR-panelet viser anbefalinger, forklaringer og tiltakslister. Operatøren kan pause, justere eller be om nye simuleringer, og interaksjonene loggføres for fagfellevurdering.
    \item \textbf{Tiltaksoppfølging:} Beslutninger publiseres til kontrolltårnet sammen med revisjonsspor og etterlevelsesvurderinger. Fallback-prosedyrer kobles mot styringsmodellene i Kapittel~7.
\end{enumerate}

Caset bør også beskrive en operatørreise fra alarm til tiltak:
\begin{itemize}
    \item Hvordan oppdages avviket (for eksempel haptiske tilbakemeldinger i hansker eller en taleinstruksjon fra operatøren)?
    \item Hvilke forklaringsmekanismer viser hvorfor AI-coachen anbefaler et tiltak, og hvordan verifiseres det med simuleringer?
    \item Hvilke roller bekrefter endelig beslutning, og hvor loggføres resultatene slik at fagfeller kan gjenskape vurderingen?
\end{itemize}

Disse beskrivelsene gir en rød tråd mellom figur, algoritmematrise og rubrikk, slik at laboratorieøvelsen kan gjennomføres uten ytterligere muntlig instruksjon.

\begin{figure}[htbp]
    \centering
    % Alt-tekst: kap05-operator-coach-v1.alt.md
    \fbox{\parbox{0.9\textwidth}{\centering\textit{Plassholder for AI-coach som viser AR/VR-panel, modellstrømmer og tiltaksliste.}}}
    \caption{Immersiv AI-coach som kobler multimodale datakilder til anbefalinger i sanntid.}
    \label{fig:kap05-operator-coach}
\end{figure}

\section{Vurderingskriterier for AI-drevne tvillinger}
For å gjøre caseoppgaven i dette kapittelet etterprøvbar må studentene beskrive hvordan algoritmevalgene deres oppfyller krav t
il ytelse, robusthet og ansvarlighet. Rammeverk som \citet{ec2020trustworthyai} anbefaler at tekniske måltall kombineres med pro
sesskrav, slik at evalueringen dekker både modellkvalitet og styringsmekanismer rundt tvillingen.

\subsection{Fokusområder for evaluering}
\begin{itemize}
    \item \textbf{Ytelse og generalisering}: Dokumenter trenings- og valideringsoppsettet, inkludert kryssvalidering, usikkerhetsbånd og hvilke datasett som brukes til sluttkontroll. Angi terskler for akseptable verdier (for eksempel RMSE, MAPE eller F1-score) og hvordan de knyttes til beslutningene tvillingen skal støtte.
    \item \textbf{Robusthet og driftsoppfølging}: Vis hvordan modellen overvåkes for konseptdrift gjennom alarmer i MLOps-løpet og hvilke failsafe-mekanismer som trer inn dersom modellen avviker fra virkelige observasjoner. Beskriv testsett for stress- og feilsituasjoner, inkludert syntetiske scenarioer.
    \item \textbf{Etikk, etterlevelse og forklarbarhet}: Oppsummer hvilke regulatoriske krav og interne prinsipper som gjelder for caset. Knytt tiltak til styringsstrukturene i Kapittel~6 og vurder hvilke forklaringsmetoder (for eksempel SHAP, feature importance eller kontrafaktiske eksempler) som trengs for å gi innsikt til domeneekspertene.
\end{itemize}

\subsection{Matrise for algoritmevalg}
Tabellen under hjelper studentene å argumentere for hvorfor et algoritmevalg er passende og hvilke evidenser som må leveres. De
n kan fylles ut som del av prosjektlogg eller rapport og fungerer som kobling til vurderingsrubrikken i lærerveiledningen.

\begin{longtable}{p{0.22\textwidth}p{0.24\textwidth}p{0.22\textwidth}p{0.28\textwidth}}
\caption{Algoritmematrise for immersiv AI-coach}\label{tab:algoritmematrise-ai-coach}\\
\toprule
\textbf{Datakilde/Modalitet} & \textbf{Anbefalt algoritme} & \textbf{Støtteverktøy og modeller} & \textbf{Dokumenterte kontrollpunkter} \\
\midrule
\endfirsthead
\toprule
\textbf{Datakilde/Modalitet} & \textbf{Anbefalt algoritme} & \textbf{Støtteverktøy og modeller} & \textbf{Dokumenterte kontrollpunkter} \\
\midrule
\endhead
Streaming av tidsserier + 3D-mesh fra inspeksjonsdrone & Temporal Fusion Transformer kombinert med grafnevrale nett (GNN) for geometriske avvik. & PyTorch Forecasting, DGL og ONNX for eksport til edge. & Dokumenter konfidensbånd i dashboardet, valider mot feltmålinger hver uke og loggfør avvik i kontrolltårnet. \\
\addlinespace
Taleinstruksjoner fra operatører (norsk) + sensordata & Multimodal transformer (ASR + tabulære embeddings) med aktiv læring for nye uttrykk. & HuggingFace Whisper, TabNet og MLflow for modell- og datasporing. & Loggfør manuelle korreksjoner, vis usikkerhet i tiltaksløypen og knytt språkmodellen til revisjonskravene fra Kapittel~6. \\
\addlinespace
Haptiske input (AR-hansker) + simulert responstid & Bayesiansk optimalisering for parameterjustering av simuleringsmodeller. & BoTorch, AnyLogic API og Azure ML pipelines. & Definer sikkerhetsgrenser for taktile tilbakemeldinger, stress-test latens og registrer fallback-scenarier i beredskapsplanen. \\
\addlinespace
Videostrøm fra operatørkamera + vedlikeholdslogg & Spatio-temporal CNN med selvtilsyn (contrastive learning). & OpenCV, PyTorch Lightning og Data Version Control (DVC). & Sikre anonymisering av persondata, koble avvik til kontrolltårnreferansen i Kapittel~6 og dokumenter godkjenning i fagfelleloggen. \\
\bottomrule
\end{longtable}

\subsection{Leveransekrav til caseoppgaven}
\begin{enumerate}
    \item Oppdater prosjektlogg eller fagfellelogg med valgt algoritme, evaluering og beslutning, slik at arbeidet kan revideres
    av andre team. Dokumenter prosessen i tråd med audit-prinsippene i \citet{raji2020closing}.
    \item Legg ved en teknisk vedleggsdel som beskriver datakilder, hyperparametere, versjonskontroll og automatiserte tester i MLOps-løpet. Knyt tiltakene til styringsprinsippene i Kapittel~7.
    \item Reflekter i sluttrapporten over hvordan modellen skal videreføres etter prosjektet: hvem eier ansvaret, hvilke indikator
    er skal overvåkes og hvilke beslutningsgrenser krever menneskelig godkjenning.
    \item Beskriv hvordan generative modeller, syntetiske datasett eller edge-komponenter eventuelt inngår i løsningen, og gjør rede for datasporing, ytelsesmålinger og kontroller som sikrer at tiltakene følger retningslinjene i Kapittel~6.
\end{enumerate}

\subsection{Poenggivende rubrikk for laboratoriearbeid}
Rubrikken i Tabell~\ref{tab:rubrikk-ai-lab} brukes i både lærerveiledning og studentlogg. Den kombinerer tekniske kriterier med etterlevelse, slik at generative og edge-orienterte tiltak vurderes helhetlig.

\begin{table}[htbp]
    \centering
    \caption{Vurderingsrubrikk for multimodal AI-lab}
    \label{tab:rubrikk-ai-lab}
    \begin{tabular}{p{3.2cm}p{3.2cm}p{3.2cm}p{3.2cm}p{3.2cm}}
        \toprule
        \textbf{Kriterium} & \textbf{0 poeng} & \textbf{1 poeng} & \textbf{2 poeng} & \textbf{3 poeng} \\
        \midrule
        Datasamsvar og kvalitet & Ustrukturerte loggfiler uten versjonskontroll. & Delvis kuraterte datasett, men mangler metadata og reproduserbarhet. & Komplette datasett med metadata og kontrollert tilgang. & Dokumentert datasporing inkludert syntetiske bidrag og kvalitetssikring per datapakke. \\
        \addlinespace
        Algoritmevalg og begrunnelse & Valgte modeller passer ikke til scenarioet. & Modellvalg beskrives, men mangler kobling til vurderingskriterier. & Modellvalg begrunnes med relevante måltall og tiltak mot konseptdrift. & Kombinerer flere modeller, viser sensitivitet og argumenterer for videre iterasjoner. \\
        \addlinespace
        Operatøropplevelse og forklaringer & Ingen brukerflate eller forklaring til operatører. & Viser prototyper uten støtte for spørsmål eller tiltak. & AR/VR-panelet visualiserer tiltak med grunnleggende forklaringer og logging av interaksjoner. & Interaktivt panel med what-if-simuleringer, taktile tilbakemeldinger og dokumentert beslutningslogg. \\
        \addlinespace
        Edge--sky-samspill & Ingen plan for distribusjon mellom edge og sky. & Synkronisering beskrives for enkelte komponenter. & Fullstendig plan for modelloppdatering, overvåking og fallback. & Implementert styringssløyfe med automatisert varsling og testet resilienst. \\
        \addlinespace
        Etterlevelse og refleksjon & Ingen vurdering av sikkerhet, etikk eller lovverk. & Noterer enkelte krav uten tiltak. & Tiltak knyttes til relevante standarder og roller. & Integrerer krav fra Kapittel~6 og beskriver hvordan tiltak revideres over tid, inkludert plan for neste iterasjon. \\
        \addlinespace
        Refleksjon og forbedringsplan & Ingen egenvurdering. & Kort oppsummering uten læringspunkter. & Beskriver forbedringer og hvordan de skal testes i neste sprint. & Forankrer læringspunkter i fagfellelogg, oppdaterer rubrikk og foreslår tiltak for pilotgjennomføring. \\
        \bottomrule
    \end{tabular}
\end{table}


\section{Laboratorieøving: Multimodal AI-trening}
Laboratorieøvelsen for denne seksjonen kombinerer tidsserie-, bilde- og tekstdata i et immersivt kontrollrom. Studentene bruker matrisen i \textit{kap05-algoritmematrise-utvidelse.md} for å velge algoritmer og dokumentere beslutninger.

\begin{enumerate}
    \item \textbf{Scoping:} Hver gruppe velger to modaliteter (for eksempel tidsserier + tale) og begrunner valget med referanse til produksjonsscenarioet sitt.
    \item \textbf{Implementering:} Modellene trenes i en delt notebook med støtte for versjonskontroll. Resultatene eksporteres til AR/VR-panelet slik at operatørene kan teste anbefalingene.
    \item \textbf{Operatørtesting:} Teamet samler innsikt fra operatørrollen, dokumenterer forklaringer som deles i AR/VR-panelet og registrerer hendelser i fagfelleloggen.
    \item \textbf{Evaluering:} Gruppene fyller ut rubrikken fra støttenotatet og beskriver hvordan tiltakene etterlever kravene i \citet{iec62443-2-1} og \citet{eu2022nis2}.
\end{enumerate}

Rubrikken gir poeng for datasamsvar, algoritmevalg, operatøropplevelse, edge--sky-samspill og etterlevelse med refleksjon. En poengsum på 12 eller mer regnes som godkjent og brukes både av faglærer og medstudent i fagfellevurderingen.

\section{Industripuls: Norske pilotprosjekter}
Koblingen mellom generative modeller, edge-beregninger og operasjonell gevinst må forankres i konkrete caser. Følgende erfaringer gir retning for hvordan læringssløyfer fra dette kapittelet kan realiseres i praksis:
\begin{itemize}
    \item \textbf{Kongsberg Digital -- Kognitwin}: Plattformen kombinerer skybasert modellforvaltning med edge-nære apper for offshore, maritim og prosessindustri. Kundenes erfaringer viser at genererte scenarioer og automatisert datafangst kan distribueres raskt til lokale operatører.\citep{kongsberg2023kognitwin}
    \item \textbf{Equinor og Telenor -- 5G Edge Lab}: Partnerskapet demonstrerer hvordan lav forsinkelse i 5G-nett legger til rette for sanntidsoppdatering av digitale tvillinger i energisektoren, og hvordan læringssløyfer kan flyttes ut til plattformer og skip uten å gå på bekostning av datasikkerhet.\citep{telenor2021equinor5g}
    \item \textbf{Statnett -- Digital tvilling av kraftsystemet}: Kontrolltårnet kombinerer strømmodeller og sanntidsdata for å teste genererte tiltak før de sendes til regionnettet. Prosjektet illustrerer hvordan rubrikkene for etterlevelse og edge--sky-samspill kan brukes til å dokumentere endringer mot regulatoriske krav.\citep{statnett2023digital}
\end{itemize}

\section{Industrieksempel: Optimal drift av et landbasert oppdrettsanlegg}
Et norsk oppdrettsanlegg med resirkulerende akvakultur (RAS) kombinerer sensorer for vannkvalitet, fôringssystem og fiskevelfe
rd med en digital tvilling som simulerer både biologiske og tekniske prosesser. Maskinlæring benyttes til å predikere vekstrate
r og oksygenbehov basert på kameradata og historiske fôringsmønstre. Optimaliseringslaget bruker disse prediksjonene til å best
emme fôringsstrategi og justering av vannstrømmer, innenfor begrensninger for energibruk og biosikkerhet. Dataassimilering fore
går gjennom en utvidet Kalman-prosess som oppdaterer tvillingens tilstandsestimat hver gang nye sensordata kommer inn. Når sili
konnivået stiger raskere enn forventet, flagger modellen avviket og justerer samtidig anbefalingene for filtreringskapasitet og
temperaturstyring. Operatører kan dermed ta informerte grep for å forhindre stress hos fisken og redusere utslipp til miljøet, s
amtidig som produksjonen holdes oppe.

\section{Refleksjonsspørsmål og øvinger}
\begin{enumerate}
    \item Velg et case og lag et dataflytskjema som viser hvordan maskinlæring, dataassimilering og optimalisering henger samm
en i tvillingen.
    \item Forklar med egne ord hvordan modellprediktiv kontroll kan dra nytte av oppdaterte maskinlæringsmodeller og filtrering
sdata.
    \item Lag et forslag til eksperimentoppsett for online læring med begrenset datatilgang, inkludert kriterier for når modell
ene skal re-trenes.
\end{enumerate}
